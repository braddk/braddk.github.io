<html>

	<head>
		<meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
		<title>CSC 551 Mastermind Game (Javascript) Creighton University; Brad Kattleman and Brett Stoneberger</title>
		<link href="http://www.tallyshooter.com/Brett/CSC551.css" rel="stylesheet" type="text/css">
		<script language="JavaScript">

// Images


var arrow = new Image;       // yellow arrow gif
var marble = new Array();       // Colored marbles

// Arrays
var guess = new Array();     // Player's guess of colors
var initialGuesses= new Array();  //Inital Guesses for the player
var testGuesses = new Array();	//copy array for guesses
var correct = 0;	//Variable for correct guesses
var colors = 0;		//Variable for correct colors


var frown = new Array();  //array of Frown pictures
var smiley = new Array();	//array of Smiley Pictures
revealed = new Boolean(false);

// Create initial images of the marbles
for (i=0; i<=5; i++){
	marble[i] = new Image();
   }
for (i=0; i<5; i++){
	frown[i] = new Image();
   	frown[i].src = "frown" + i + ".gif"; 
   }
for (i=0; i<5; i++){
	smiley[i] = new Image();
	smiley[i].src = "smiley" + i + ".gif";
   }

// Place images files in the right location at the start of the game

arrow.src = "arrow.gif";
marble[0].src = "black.gif";
marble[1].src = "blue.gif";
marble[2].src = "green.gif";
marble[3].src = "red.gif";
marble[4].src = "yellow.gif";
marble[5].src = "white.gif";


var done = 0;
var ready = 0;
current = 0;

function randomNum() {
initial= Math.round(Math.random()*5);
return initial	
}


function startgame()// reset the game for play (needs more work)

{                    
      for(x=0; x<=3; x++) // Setup the initial marble and other images
	{
      guess[x] = 1;          // Start with blue marbles (color #1)
      document.images[current+x].src = marble[guess[x]].src;
	}	
      document.images[current+4].src = arrow.src;      // Point to the current row with yellow arrow
   
	for(x=0; x<4; x++) { //For seeding initalGuesses
		initialGuesses[x] = randomNum();
	}
	for(i=0;i<4;i++) {
		alert(marble[initialGuesses[i]].src);
	}
	
}

function Go(){
	if(revealed == false){
		if(current < 54) {
			check();
			current += 6;
			for(i=0;i<4;i++) {
				document.images[current+i].src = document.images[current - (6-i)].src;
			}
			document.images[current+4].src = arrow.src;
			
			//Randomize Results because we have not worked the logic yet
			document.images[current - 2].src = smiley[correct].src;  //should display perfect pegs
			document.images[current - 1].src = frown[correct].src;   //should display correct colors
		}
		else
			gameOver();
	}
	else
		gameOver();
}

function gameOver() {
alert('I\'m sorry, but the game is over.\nPlease refresh your browser to play again.');
}

function displayPegs() {
	 if (revealed == false) {
	 	revealed = true;
	 	current = 60;
	 	for(i=0;i<4;i++){
	 		document.images[current + i].src= marble[initialGuesses[i]].src;
	 	}
	}
	else
		gameOver();
}

function choices(i) 
{          // Player scrolls through colored marble choices
	if(revealed == false) 
	{              
    	if (++guess[i]>5)
        	guess[i]=0;
     	document.images[current+i].src = marble[guess[i]].src;  // Display the chosen marble
		testGuesses[i] = guess[i];
	}
   	else 
   		gameOver();
}


function check() {
	var testAnswers = new Array();	//copy array for answers
	for(i=0;i<4;i++)
		testAnswers[i] = initialGuesses[i];
	correct = 0;
	colors = 0;
	
	for(i=0;i<4;i++) {
		if(testAnswers[i] == testGuesses[i]) {
			correct ++;
			testAnswers[i] = 63 * Math.random();	//arbitrary numbers so that they don't match again
			testGuesses[i] = 62 * Math.random();	//arbitrary numbers so that they don't match again
		}
	}
	
	//for(i=0;i<4;i++) { 	
	//	for(j=1;j<4;j++) {
	//		if(testGuesses[i] == testAnswers[j]) {
	//			colors ++;
	//			testAnswers[i] = 63 * Math.random();
	//			testGuesses[i] = 62* Math.random();
	//		}
	//	}
	//}
				
	
}

</script>
	</head>

	<body bgcolor="white" onload="startgame();">
		<center>
			<table align="left" border="2" bordercolor = "#778899" cellpadding="0" cellspacing="0" width="100%" >
					<tr>
						<td valign="top">
							<table align="left" border="0" cellpadding="0" cellspacing="4">
								<tr>
									<td>
										<div align="center">
											<img src="blue.gif" width="25" height="25" border="0"></div>
									</td>
									<td>
										<div align="center">
											<img src="blue.gif" width="25" height="25" border="0"></div>
									</td>
									<td>
										<div align="center">
											<img src="blue.gif" width="25" height="25" border="0"></div>
									</td>
									<td>
										<div align="center">
											<img src="blue.gif" width="25" height="25" border="0"></div>
									</td>
									<td><img alt="" src="arrow.gif"></td>
									<td><img alt="" src="fill.gif"></td>
								</tr>
								<tr>
									<td>
										<div align="center">
											<img alt="" src="Bckgrnd.gif"></div>
									</td>
									<td>
										<div align="center">
											<img alt="" src="Bckgrnd.gif"></div>
									</td>
									<td>
										<div align="center">
											<img alt="" src="Bckgrnd.gif"></div>
									</td>
									<td>
										<div align="center">
											<img alt="" src="Bckgrnd.gif"></div>
									</td>
									<td><img alt="" src="fill.gif"></td>
									<td><img alt="" src="fill.gif"></td>
								</tr>
								<tr>
									<td>
										<div align="center">
											<img alt="" src="Bckgrnd.gif"></div>
									</td>
									<td>
										<div align="center">
											<img alt="" src="Bckgrnd.gif"></div>
									</td>
									<td>
										<div align="center">
											<img alt="" src="Bckgrnd.gif"></div>
									</td>
									<td>
										<div align="center">
											<img alt="" src="Bckgrnd.gif"></div>
									</td>
									<td><img alt="" src="fill.gif"></td>
									<td><img alt="" src="fill.gif"></td>
								</tr>
								<tr>
									<td><img alt="" src="Bckgrnd.gif"></td>
									<td><img alt="" src="Bckgrnd.gif"></td>
									<td><img alt="" src="Bckgrnd.gif"></td>
									<td><img alt="" src="Bckgrnd.gif"></td>
									<td><img alt="" src="fill.gif"></td>
									<td><img alt="" src="fill.gif"></td>
								</tr>
								<tr>
									<td><img alt="" src="Bckgrnd.gif"></td>
									<td><img alt="" src="Bckgrnd.gif"></td>
									<td><img alt="" src="Bckgrnd.gif"></td>
									<td><img alt="" src="Bckgrnd.gif"></td>
									<td><img alt="" src="fill.gif"></td>
									<td><img alt="" src="fill.gif"></td>
								</tr>
								<tr>
									<td><img alt="" src="Bckgrnd.gif"></td>
									<td><img alt="" src="Bckgrnd.gif"></td>
									<td><img alt="" src="Bckgrnd.gif"></td>
									<td><img alt="" src="Bckgrnd.gif"></td>
									<td><img alt="" src="fill.gif"></td>
									<td><img alt="" src="fill.gif"></td>
								</tr>
								<tr>
									<td><img alt="" src="Bckgrnd.gif"></td>
									<td><img alt="" src="Bckgrnd.gif"></td>
									<td><img alt="" src="Bckgrnd.gif"></td>
									<td><img alt="" src="Bckgrnd.gif"></td>
									<td><img alt="" src="fill.gif"></td>
									<td><img alt="" src="fill.gif"></td>
								</tr>
								<tr>
									<td><img alt="" src="Bckgrnd.gif"></td>
									<td><img alt="" src="Bckgrnd.gif"></td>
									<td><img alt="" src="Bckgrnd.gif"></td>
									<td><img alt="" src="Bckgrnd.gif"></td>
									<td><img alt="" src="fill.gif"></td>
									<td><img alt="" src="fill.gif"></td>
								</tr>
								<tr>
									<td><img alt="" src="Bckgrnd.gif"></td>
									<td><img alt="" src="Bckgrnd.gif"></td>
									<td><img alt="" src="Bckgrnd.gif"></td>
									<td><img alt="" src="Bckgrnd.gif"></td>
									<td><img alt="" src="fill.gif"></td>
									<td><img alt="" src="fill.gif"></td>
								</tr>
								<tr>
									<td><img alt="" src="Bckgrnd.gif"></td>
									<td><img alt="" src="Bckgrnd.gif"></td>
									<td><img alt="" src="Bckgrnd.gif"></td>
									<td><img alt="" src="Bckgrnd.gif"></td>
									<td><img alt="" src="fill.gif"></td>
									<td><img alt="" src="fill.gif"></td>
								</tr>
								<tr align="middle">
									<form name="slotform">
										<td>
											<div align="center">
												<input name="toggle1" onclick="choices(0);" type="button" value=" 1 " width="20"></div>
										</td>
										<td>
											<div align="center">
												<input name="toggle2" onclick="choices(1);" type="button" value=" 2 " width="20" heigth="20" height="20"></div>
										</td>
										<td>
											<div align="center">
												<input name="toggle3" onclick="choices(2);" type="button" value=" 3 " width="20"></div>
										</td>
										<td>
											<div align="center">
												<input name="toggle4" onclick="choices(3);" type="button" value=" 4 " width="20"></div>
										</td>
										<td colspan="2">
											<div align="center">
<!--he go button needs to give us answers and take us to the next row via another function-->
												<input name="go" type="button" value="Go" onclick="Go();"></div>
										</td>
									</form>
								</tr>
								<tr>
									<td colspan="6"></td>
								</tr>
								<tr>
									<td><img alt="" src="final.gif"></td>
									<td><img alt="" src="final.gif"></td>
									<td><img alt="" src="final.gif"></td>
									<td><img alt="" src="final.gif"></td>
									<td colspan="2">
										<div align="center">
										<a href="#">
										<img alt="" border="0" src="logic.gif" onclick="displayPegs();"></a></div>
									</td>
								</tr>
							</table>
						</td>
						<td valign="top" width="15"><img src="../spacer.gif" width="15" height="1" border="0"></td>
						<td valign="top" bgcolor="#dcdcdc"><blockquote>The goal is to find the secret combination of colored marbles in 10 tries or less. The computer chooses 4 marbles at random from 6 colors. The colors are <b>black</b>, <font color="#0000cd"><b>blue</b></font>, <font color="green"><b>green</b></font>, <font color="red"><b>red</b></font>, <font color="yellow"><b>yellow</b></font>, and <span style="background-color: black; color: white; font-weight: bold;">white</span>. The default starting color for all four marbles is <font color="#0000cd"><b>blue</b></font>.
							<p>This combination can contain marbles of all different colors or multiple marbles of the same color. In other words, duplicates are allowed.</p>
							<p>To make a guess, set the 4 colors in the current row (pointed to by the arrow) by clicking the numbered buttons at the bottom of each column of marbles. Then click the &quot;Go&quot; button and the computer scores that guess. You may change selections at anytime prior to pressing the &quot;Go&quot; button.</p>
							<p>To the right of your current selection, the computer displays two figures: a <b>&quot;Smiley Face&quot;</b>; and a <b>&quot;Frown Face&quot;</b>; each displayed with a number.</p>
							<p>The <b>&quot;Smiley Face&quot;</b> and its cooresponding number represents the number of marbles that are the correct color and in the correct location.</p>
							<p>The <b>&quot;Frown Face&quot;</b> and its cooresponding number represents the number of marbles that are the correct color but not in the correct location.<br>
								<br>
							</p>
							<p>To play again, simply click the &quot;Go&quot; button again or reload the page.<br>
								<br>
							</p>
							<p></p></blockquote>
						</td>
					</tr>
				</table>
		</center>
	</body>

</html>